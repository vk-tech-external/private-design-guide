# {heading(Описание архитектуры {var(sys2)})[id=architecture]}

Архитектура {var(sys2)} базируется на трёх группах сервисов:

* IaaS:

   * Cloud Servers — предоставляет виртуальные машины, шаблоны и образы ВМ, виртуальные диски и файловые хранилища.
   * Cloud Network — обеспечивает сетевое взаимодействие в рамках выбранного проекта. Включает в себя сети и подсети, разрешение имён в проектных сетях, маршрутизацию, балансировку нагрузки и группы безопасности.

* PaaS:

   * Cloud Containers — позволяет создавать и управлять кластерами Kubernetes.
   * Cloud Databases — предоставляет масштабируемые СУБД: MySQL, PostgreSQL, MongoDB, ClickHouse, Redis.
   * XaaS — позволяет публиковать и разворачивать Image-based и мультитенантные прикладные сервисы в магазине приложений Marketplace.

* Common & Security services:

   * IAM — управляет идентификацией и авторизацией сервисов, пользователей и администраторов {var(sys2)}.
   * Keycloak — обеспечивает хранение учётных записей пользователей и интеграцию с внешними службами каталогов.
   * Биллинг — обеспечивает учёт использования ресурсов {var(sys2)} и контроль расходов.
   * Квоты — обеспечивает функции управления квотами.
   * Резервное копирование — обеспечивает полный и инкрементный бекап ВМ, бекап СУБД.
   * Мониторинг — реализует мониторинг состояния {var(sys2)}.
   * Логирование — реализует хранение журналов компонентов {var(sys2)}.

Общая схема сервисов приведена на {linkto(#pic_arch_general_architecture)[text=рисунке %number]}.

{caption(Рисунок {counter(pic)[id=numb_pic_arch_general_architecture]} — Общая схема сервисов)[align=center;position=under;id=pic_arch_general_architecture;number={const(numb_pic_arch_general_architecture)}]}
![Общая схема сервисов](./assets/arch_general_architecture.png)
{/caption}

Управление облачными сервисами выполняется с помощью API. Пользователи и администраторы взаимодействуют с API через один или несколько инструментов:

* Портал самообслуживания.
* Портал администратора.
* CLI.
* Terraform-провайдер.
